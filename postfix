%{
#include "y.tab.h"
#include <stdlib.h>
%}

%%
[0-9]+ { yylval = atoi(yytext); return NUMBER; }
[+\-*/] {return yytext[0]; } 
\n { return '\n'; }
[ \t]+ ;
. ;
%%

int yywrap() { return 1; }


%{
#include <stdio.h>
#include <stdlib.h>

int yylex(void);
int yyerror(const char *s);
%}

%token NUMBER

%%
input:
    /* empty */
    | input line
    ;

line:
    postfix '\n' {printf("Result: %d\n", $1);}
    ;

postfix:
    NUMBER { $$ = $1;}
    | postfix NUMBER '+' { $$  = $1 + $2;}
    | postfix NUMBER '-' { $$ = $1 - $2;}
    | postfix NUMBER '*' { $$ = $1 * $2;}
    | postfix NUMBER '/' { if ($2 == 0){
                                printf("ERROR CANNOT DIVIDE BY 0");
                                $$ = 0;
                            }else{
                                $$ = $1 / $2;
                            
                            }

                         }
    ;
%%

int yyerror(const char* s){
    printf("ERROR %s", s);
    return 0;
}

int main() {
    printf("Enter a postfix expression: ");
    yyparse();
    return 0;
}


